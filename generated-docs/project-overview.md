Last updated: 2025-12-29

# Project Overview

## プロジェクト概要
- Vim初心者向けに、機能を限定しモードやキーバインドを派手に表示するジョークアプリです。
- Rust製のTUI（Terminal User Interface）エディタとして開発されており、成功体験を提供することを目指します。
- ratatui, tui-textarea, crosstermといったライブラリを活用し、Vimライクな基本操作を実現します。

## 技術スタック
- フロントエンド: 
  - ratatui: ターミナルUIの構築と描画を行うためのRust製フレームワークです。柔軟なレイアウト管理と画面要素の描画に利用されます。
  - tui-textarea: テキスト編集エリアを提供するウィジェットです。基本的なテキスト入力、カーソル移動、選択、コピー、削除などの機能を提供します。
  - crossterm: Windowsを含むクロスプラットフォームでターミナル操作（キー入力、カーソル制御、画面クリアなど）を可能にするライブラリです。
- 音楽・オーディオ: 該当なし
- 開発ツール: 
  - Cargo: Rustのビルドシステムとパッケージマネージャーです。プロジェクトの依存関係管理、ビルド、テスト、実行を効率的に行います。
- テスト: 該当なし
- ビルドツール: 
  - Cargo: Rustプロジェクトのビルドプロセスを管理します。
- 言語機能: 
  - Rust: 高いパフォーマンスとメモリ安全性を特徴とするプログラミング言語です。このプロジェクトは全面的にRustで記述されています。
- 自動化・CI/CD: 該当なし
- 開発標準: 該当なし

## ファイル階層ツリー
```
📄 .gitignore
📄 Cargo.lock
📄 Cargo.toml
📄 LICENSE
📖 README.md
📄 _config.yml
📁 generated-docs/
📁 issue-notes/
  📖 2.md
  📖 3.md
📁 src/
  📄 main.rs
```

## ファイル詳細説明
- `README.md`:
  プロジェクトの概要、現在の開発状況 (WIP)、クイックスタートガイド、基本的な操作方法、今後の開発見通し、そしてプロジェクトのブレインストーミングや開発経緯が記載されています。
- `issue-notes/`:
  開発中の課題や検討事項を記録するためのディレクトリです。
  - `issue-notes/2.md`, `issue-notes/3.md`:
    具体的な課題や検討内容、その解決に向けたメモが記述されたファイルです。
- `src/main.rs`:
  このRustアプリケーションのメインエントリポイントとなるソースコードファイルです。TUIの初期化、イベントループ、UIの描画ロジック、キーイベント処理、アプリケーションの状態管理など、エディタの主要な機能が実装されています。
- `.gitignore`:
  Gitバージョン管理システムで追跡対象から除外するファイルやディレクトリを指定する設定ファイルです。ビルド生成物や一時ファイルなどが含まれます。
- `Cargo.lock`:
  `Cargo.toml` に記述された依存関係の正確なバージョンとそのハッシュ値を記録するファイルです。これにより、ビルドの一貫性が保証されます。
- `Cargo.toml`:
  Rustプロジェクトの設定ファイルです。プロジェクト名、バージョン、著者情報、そして依存する外部クレート（ライブラリ）が定義されています。
- `LICENSE`:
  プロジェクトのライセンス情報が記述されたファイルです。このプロジェクトがどのような条件で利用、配布、改変されるかが明記されています。
- `_config.yml`:
  GitHub Pagesなどの静的サイトジェネレータで使用される設定ファイルである可能性があります。ドキュメントサイトの構築に関連する設定が記述されているかもしれません。
- `generated-docs/`:
  自動生成されたドキュメントが格納されるディレクトリです。プロジェクトの技術ドキュメントやAPIリファレンスなどが含まれる可能性があります。

## 関数詳細説明
具体的な関数シグネチャはプロジェクト情報から得られませんが、Rust製TUIエディタの一般的な構造に基づき、主要な役割を持つ関数について説明します。

- `main()`:
  - 役割: アプリケーションのエントリポイントです。
  - 引数: なし。
  - 戻り値: アプリケーションの終了ステータスを示す結果（`Result<(), Box<dyn Error>>`など）。
  - 機能: ターミナルの初期化、メインアプリケーションループの開始、終了時のターミナルクリーンアップを担当します。
- `run_app()` (仮称):
  - 役割: アプリケーションのメインループを実行し、イベント処理とUI描画を繰り返します。
  - 引数: ターミナルインスタンス、アプリケーションの状態オブジェクト。
  - 戻り値: エラー発生時の結果（`Result<(), Box<dyn Error>>`など）。
  - 機能: キーボードイベントやタイマーイベントを待ち受け、それに応じてアプリケーションの状態を更新し、UIを再描画します。
- `handle_event()` (仮称):
  - 役割: 受け取ったイベントに基づいて、アプリケーションの状態を更新します。
  - 引数: イベントオブジェクト（`crossterm::event::Event`など）、現在のアプリケーションの状態。
  - 戻り値: 更新されたアプリケーションの状態、または特定の操作（例: アプリケーション終了）を示す列挙型。
  - 機能: Normal Mode、Insert Mode、Visual Mode、Command Modeといった現在のモードに応じて、キー入力に対する処理（カーソル移動、テキスト挿入、削除、コマンド実行など）を振り分けます。
- `draw_ui()` (仮称):
  - 役割: 現在のアプリケーションの状態に基づいて、ターミナル上にUIを描画します。
  - 引数: `ratatui::Frame`オブジェクト、アプリケーションの状態。
  - 戻り値: なし。
  - 機能: テキスト編集エリア、モード表示（バルーン表示を含む）、利用可能なキーバインドのヒント、コマンドライン入力欄など、画面上のすべての要素をレイアウトし描画します。
- `update_mode_display()` (仮称):
  - 役割: 現在のVimモード（Normal, Insert, Visual, Command）をターミナル上に表示します。
  - 引数: `ratatui::Frame`オブジェクト、現在のモード、カーソル位置。
  - 戻り値: なし。
  - 機能: モードに応じて異なる色や大きな文字でモード名を強調表示したり、カーソル近くにバルーン形式で表示したりします。
- `execute_command()` (仮称):
  - 役割: コマンドラインモードで入力されたコマンド（例: `:w`, `:q!`) を解析し実行します。
  - 引数: コマンド文字列、アプリケーションの状態。
  - 戻り値: コマンド実行の成否を示す結果。
  - 機能: コマンド文字列をパターンマッチングし、ファイル保存、アプリケーション終了などの対応する処理を実行します。

## 関数呼び出し階層ツリー
```
関数呼び出し階層を分析できませんでした。

---
Generated at: 2025-12-29 07:04:09 JST
